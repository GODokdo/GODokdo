<form [formGroup]="errorForm" (ngSubmit)="errorSubmit()" >
<div bsModal #primaryModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-primary" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">표기 오류 추가</h4>
        <button type="button" class="close" (click)="primaryModal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label for="error_text">표기 오류</label>
              <input type="text" class="form-control" id="error_text" placeholder="잘못된 키워드 혹은 문장을 입력해주세요" formControlName="text">
            </div>
          </div>
        </div><!--/.row-->
        
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label for="ccmonth">오류 카테고리</label>
              <select class="form-control" id="ccmonth" formControlName="code">
                <option value="0" selected disabled>항목을 선택해주세요</option>
                <option *ngFor="let item of error_codes" [value]="item.code">{{item.code}} - {{item.name}}</option>
              </select>
            </div>
          </div>
        </div><!--/.row-->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="primaryModal.hide()">Close</button>
        <button type="button" class="btn btn-primary" type="submit">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
</form>
<span class="selected" tooltip="Vivamus sagittis lacus vel augue laoreet rutrum faucibus."></span>
<div class="animated fadeIn inhome" *ngIf="result != null">
  <div class="card card-accent-primary">
    <div class="card-header">
      문서 요약
    </div>
    <div class="card-body">
      <h2>{{result.document.title}}</h2>
      <div class="url">{{result.document.url}}</div>
      <div class="step-progress">
        <div class="progress-track"></div>
        <div id="step1" class="progress-step first"
          [ngClass]="{'is-active':getStatusLevel() == 1, 'is-complete':getStatusLevel() > 1, 'was-complete':getStatusLevel() > 2}">
          분석 요청됨
        </div>
        <div id="step2" class="progress-step"
          [ngClass]="{'is-active':getStatusLevel() == 2, 'is-complete':getStatusLevel() > 2, 'was-complete':getStatusLevel() > 3}">
          인공지능을 통한 오류 검출
        </div>
        <div id="step3" class="progress-step"
          [ngClass]="{'is-active':getStatusLevel() == 3, 'is-complete':getStatusLevel() > 3, 'was-complete':getStatusLevel() > 4}">
          검출 결과 검증
        </div>
        <div id="step4" class="progress-step"
          [ngClass]="{'is-active':getStatusLevel() == 4, 'is-complete':getStatusLevel() > 4, 'was-complete':getStatusLevel() > 5}">
          분류 작업 완료
        </div>
      </div>


      <div class="details">
        <dl class="row">
          <dt class="col-sm-3">생성된 날짜</dt>
          <dd class="col-sm-9">{{result.document.created_time}}</dd>
          <dt class="col-sm-3">마지막 업데이트</dt>
          <dd class="col-sm-9">{{timeForToday(result.document.updated_time)}}</dd>

          <dt class="col-sm-3">검출된 표기 오류</dt>
          <dd class="col-sm-9">
            한일 월드컵 표기 오류, 한일 월드컵 표기 오류
          </dd>
        </dl>
      </div>



    </div>
  </div>
  <div class="card">
    <div class="card-header">
      원문
      <div class="card-header-actions" style="height: 21px;">
        <a href="https://valor-software.com/ngx-bootstrap/#/popover" target="_blank">
          <small className="text-muted">docs</small>
        </a>
        <label class="switch switch-sm switch-label switch-info">
          <input type="checkbox" class="switch-input" checked>
          <span class="switch-slider" data-checked="On" data-unchecked="Off"></span>
        </label>
      </div>
    </div>
    <div class="card-body" [collapse]="isCollapsed">
      <alert type="success" dismissible="true" *ngIf="getStatusLevel() == 1"><i class="fa fa-info-circle"></i> 서버에서 페이지 내용을 수집중입니다. 조금만 기다리면 자동으로 페이지에 반영됩니다.</alert>

      <alert type="danger" dismissible="true" *ngIf="getStatusLevel() > 2"><i class="fa fa-warning"></i> 혹시 검출되지 않은 표기 오류가 있나요? 문제가 있는 텍스트를 드래그하여 오류
        표시를 추가할 수 있습니다.</alert>
      <ng-template #popTemplateHtml>여기다가 간단한 설명 + '더보기' 메뉴 표시
      </ng-template>
      <div *ngFor="let item of contents" style="display: inline;" class="text"><span *ngIf="item.tag == 'text'" class="text">{{item.text}}</span><span *ngIf="item.tag == 'error'" class="text h" [popover]="popTemplateHtml" [popoverTitle]="item.error.name">{{item.text}}</span></div>
      <p (contextmenu)="addError()" style="display: none;">
        World Cup>Past Tournaments><span class="h" [popover]="popTemplateHtml" popoverTitle="한일 월드컵 표기 오류">2002
          Japan-Korea</span>>Overview
        The 2002 world cup was held in South Korea and Japan and certainly did not disappoint. The opening group stage
        consisted of 32 teams. Group E was considered the ‘group of death’ including favourites Argentina, England,
        Sweden and Nigeria. England drew their opening match against Sweden and followed that up with a glorious 1-0
        victory over Argentina thanks to a David Beckham penalty in the first half. England and Sweden qualified for the
        second round. Brazil was on top form, winning their opening three matches, Ronaldo scoring four goals for
        Brazil. Turkey also went through that group. The surprise team of the tournament proved to be Senegal, they won
        their opening match against the holders France and went on to reach the quarter finals, however they lost to
        Turkey. The Germans started off the world cup in fine form, thrashing Saudi Arabia 8-0; they topped their group
        and followed that up by beating Paraguay 1-0 in the second round, beating USA in the quarter finals and then
        ending South Koreas world cup adventure in the semi- finals.
        Italy met South Korea in the second round; Korea won 2-1 after extra time, and booked a place in the quarter
        finals against Spain, who had beaten Republic of Ireland in the second round on penalties.
        England met Denmark in the second round; it proved to be England finest performance of the world cup, easily
        demolishing Denmark 3-0, Michael Owen featured on the score sheet. England met Brazil in the quarter finals, a
        10-man Brazil side, beat England 2-1 with ease, to qualify for the semi-finals, playing against Turkey.
        The holders, France were <span class="h" [popover]="popTemplateHtml" popoverTitle="Dynamic html inside">knocked
          out in the first stage</span> without a victory and so to were Argentina despite gaining four points from
        their group matches. Portugal had a disappointing world cup, also being knocked out in the opening round.
        Turkey defeated Senagel in the quarter finals, which then saw them progress on to meet Brazil, whom they lost to
        in the group phase, Ronaldo proved to be too much for the Turkish defence as he sent Brazil into the final.
        Germany were to strong for the hosts, South Korea in the other semi final, the Germans were in emphatic form and
        defeated the hosts 1-0.
        Once again Germany progressed to a world cup finals and Brazil were looking to banish the memories of their 3-0
        defeat to France four years earlier in the world cup final. The first half witnessed chances falling for both
        nations, however Ronaldo was on target twice during the mid stages of the second half. Brazil comfortably beat
        Germany 2-0 and they were world champions for the fifth occasion. Ronaldo ended up top scorer of the
        competition, scoring eight goals.

      </p>
    </div>

    <div class="card-footer">
      <button type="button" class="btn btn-primary" (click)="isCollapsed = !isCollapsed">
        <div *ngIf="isCollapsed">원문 펴기</div>
        <div *ngIf="!isCollapsed">원문 접기</div>
      </button>
    </div>
  </div>


  <div class="row">
    <div class="col-md-6 mb-4">
      <tabset>
        <tab>
          <ng-template tabHeading><i class="icon-list"></i> 원문 (영어)</ng-template>
          <alert type="danger" dismissible="true"><i class="fa fa-warning"></i> 혹시 검출되지 않은 표기 오류가 있나요? 문제가 있는 텍스트를 드래그하여 오류 표시를 추가할 수 있습니다.</alert>
          {{result.document.contents}}
        </tab>
        <tab>
          <ng-template tabHeading><i class="icon-calculator"></i> 한국어 &nbsp;<span class="badge badge-success">New</span>
          </ng-template>
          2. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
          commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim
          id est laborum.
        </tab>
        <tab>
          <ng-template tabHeading><i class="icon-calculator"></i> 이미지
          </ng-template>
          2. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
          commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim
          id est laborum.
        </tab>
      </tabset>
    </div>

    <div class="col-md-6 mb-4">
      <tabset>
        <tab>
          <ng-template tabHeading><i class="icon-list"></i> Menu &nbsp;<span class="badge badge-success">New</span>
          </ng-template>
          1. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
          commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim
          id est laborum.
        </tab>
        <tab>
          <ng-template tabHeading><i class="icon-calculator"></i> Calculator &nbsp;<span
              class="badge badge-pill badge-danger">29</span></ng-template>
          2. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
          commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim
          id est laborum.
        </tab>
        <tab>
          <ng-template tabHeading><i class="icon-pie-chart"></i> Charts</ng-template>
          4. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
          dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
          commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat
          nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim
          id est laborum.
        </tab>
      </tabset>
    </div>
  </div>

  <div class="card">
    <div class="card-header">
      10014 - ** 표기 오류 (이런식으로?)
    </div>
    <div class="card-body">sd
    </div>
  </div>
</div>